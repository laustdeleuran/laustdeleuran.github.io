{"version":3,"file":"component---src-pages-photos-tsx-c77405b8550da0983eea.js","mappings":"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","sources":["webpack://ljd.dk/./src/components/wysiwyg/style.ts","webpack://ljd.dk/./src/components/wysiwyg/index.tsx","webpack://ljd.dk/./src/pages/photos.tsx"],"sourcesContent":["import { css } from '@emotion/react';\nimport { Typography, Unit } from '../../utils/style/style';\n\nexport const wyswiyg = css`\n\tp {\n\t\tmax-width: 30em;\n\t}\n\n\tstrong,\n\tb {\n\t\tfont-weight: 700;\n\t}\n\n\tem,\n\ti {\n\t\tfont-style: italic;\n\t}\n\n\t.quotes {\n\t\t&,\n\t\tli,\n\t\tblockquote {\n\t\t\tlist-style: none;\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t}\n\n\t\tli {\n\t\t\tdisplay: inline-block;\n\t\t\tmax-width: 400px;\n\t\t\tmargin-bottom: ${Typography.LINE_HEIGHT}px;\n\t\t\tmargin-right: ${Unit.FULL}px;\n\n\t\t\tvertical-align: top;\n\t\t}\n\n\t\tblockquote {\n\t\t\toverflow: hidden;\n\t\t}\n\n\t\tp,\n\t\tcite {\n\t\t\tmargin: 0 0 0 ${Unit.FULL}px;\n\t\t}\n\n\t\tp:before {\n\t\t\tcontent: '»';\n\t\t}\n\n\t\tp:after {\n\t\t\tcontent: '«';\n\t\t}\n\n\t\tcite {\n\t\t\tdisplay: block;\n\n\t\t\tfont-style: normal;\n\t\t\tfont-weight: 700;\n\t\t}\n\n\t\t.photo {\n\t\t\tfloat: left;\n\t\t\tmargin: 0 ${Typography.LINE_HEIGHT} 0 0;\n\t\t\twidth: ${100 - Typography.LINE_HEIGHT}px;\n\t\t\theight: auto;\n\n\t\t\tborder-radius: 100%;\n\t\t}\n\n\t\t@media screen and (max-width: 500px) {\n\t\t\tli {\n\t\t\t\tdisplay: block;\n\t\t\t\tmax-width: none;\n\t\t\t\tmargin-right: 0;\n\t\t\t}\n\n\t\t\timg {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\tp,\n\t\t\tcite {\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t}\n\t}\n`;\n","/**\n * Layout component that queries for data\n * with Gatsby's useStaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n/** @jsx jsx */\nimport { jsx } from '@emotion/react';\nimport { FunctionComponent } from 'react';\n\nimport { wyswiyg } from './style';\n\nconst Wysiwyg: FunctionComponent<{ component?: string }> = ({\n\tchildren,\n\tcomponent = 'div',\n\t...rest\n}) =>\n\tjsx(component, {\n\t\t...rest,\n\t\tcss: wyswiyg,\n\t\tchildren,\n\t});\n\nexport default Wysiwyg;\n","/** @jsx jsx */\nimport { GatsbyImage } from 'gatsby-plugin-image';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport { jsx, css } from '@emotion/react';\n\nimport Wysiwyg from '../components/wysiwyg';\nimport Layout from '../components/layout';\nimport SEO from '../components/seo';\nimport { Unit } from '../utils/style/style';\nimport { useEffect, useRef, useState } from 'react';\n\nconst PhotographyPage = () => {\n\tconst [activeImage, setActiveImage] = useState<string>('');\n\tconst data = useStaticQuery(graphql`\n\t\tquery { \n\t\t\tallFile(\n\t\t\t\tfilter: { absolutePath: { regex:\"/(images/photography)\\/.*\\\\.jpg$/\" } }\n\t\t\t\tsort: { name: DESC}\n\t\t\t) {\n\t\t\t\tedges {\n\t\t\t\t\tnode { \n\t\t\t\t\t\tname \n\t\t\t\t\t\trelativePath\n\t\t\t\t\t\tchildImageSharp {\n\t\t\t\t\t\t\tgatsbyImageData(layout: FULL_WIDTH, placeholder: BLURRED)\n\t\t\t\t\t\t\tfields {\n\t\t\t\t\t\t\t\texif {\n\t\t\t\t\t\t\t\t\traw {\n\t\t\t\t\t\t\t\t\t\timage {\n\t\t\t\t\t\t\t\t\t\t\tMake\n\t\t\t\t\t\t\t\t\t\t\tModel\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`);\n\n\tconst allImages = data.allFile.edges;\n\tconst IMAGES_PER_PAGE = 10;\n\tconst [pages, setPages] = useState(1);\n\tconst [loadMore, setLoadMore] = useState(false);\n\tconst shownImages = allImages.slice(0, IMAGES_PER_PAGE * pages);\n\n\tconst loadRef = useRef<HTMLDivElement>(null);\n\tconst hasMore = shownImages.length < allImages.length;\n\tconst handler = (entries) => {\n\t\tif (entries[0].intersectionRatie < 1) return;\n\t\tsetLoadMore(true);\n\t};\n\tuseEffect(() => {\n\t\tif (hasMore && loadMore) {\n\t\t\tsetPages(pages + 1);\n\t\t\tsetLoadMore(false);\n\t\t}\n\t}, [hasMore, loadMore]);\n\tuseEffect(() => {\n\t\tvar options = {\n\t\t\troot: null,\n\t\t\tthreshold: 1.0,\n\t\t};\n\t\tconst observer = new IntersectionObserver(handler, options);\n\n\t\tsetTimeout(() => {\n\t\t\tif (loadRef.current) {\n\t\t\t\tobserver.observe(loadRef.current);\n\t\t\t}\n\t\t}, 1000);\n\n\t\treturn () => {\n\t\t\tobserver.disconnect();\n\t\t};\n\t}, [loadRef.current]);\n\n\tconst openImage = allImages.find(\n\t\t({ node }) => node.name === activeImage,\n\t)?.node;\n\n\treturn (\n\t\t<Layout>\n\t\t\t<SEO title=\"Photos\" />\n\t\t\t<Wysiwyg component=\"article\">\n\t\t\t\t<h1>What I see</h1>\n\t\t\t\t<p>\n\t\t\t\t\tMy family takes photos. Some of the best times with my family while\n\t\t\t\t\tgrowing up was spent drinking tea and watching photos from vacations\n\t\t\t\t\ton the family projector. So now I take photos.\n\t\t\t\t</p>\n\n\t\t\t\t{shownImages.map(({ node }) => (\n\t\t\t\t\t<a\n\t\t\t\t\t\tkey={node.name}\n\t\t\t\t\t\tonClick={() => setActiveImage(node.name)}\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<figure\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tmargin-bottom: ${Unit.HALF}px;\n\n\t\t\t\t\t\t\t\t@media screen and (max-height: 500px),\n\t\t\t\t\t\t\t\t\tscreen and (max-width: 500px) {\n\t\t\t\t\t\t\t\t\tmargin-bottom: ${Unit.QUART}px;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<GatsbyImage\n\t\t\t\t\t\t\t\timage={node.childImageSharp.gatsbyImageData}\n\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\tmax-width: calc(100vw - ${Unit.FULL}px);\n\t\t\t\t\t\t\t\t\tmax-height: calc(100vh - ${Unit.FULL}px);\n\n\t\t\t\t\t\t\t\t\t@media screen and (max-height: 500px),\n\t\t\t\t\t\t\t\t\t\tscreen and (max-width: 500px) {\n\t\t\t\t\t\t\t\t\t\tmax-width: calc(100vw - ${Unit.HALF}px);\n\t\t\t\t\t\t\t\t\t\tmax-height: calc(100vh - ${Unit.HALF}px);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\tobjectFit=\"contain\"\n\t\t\t\t\t\t\t\tobjectPosition=\"left center\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t</a>\n\t\t\t\t))}\n\n\t\t\t\t<div ref={loadRef}>{hasMore && 'Loading...'}</div>\n\n\t\t\t\t{openImage && (\n\t\t\t\t\t<figure\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tposition: fixed;\n\t\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\t\tz-index: 2;\n\n\t\t\t\t\t\t\tbackground-color: #000;\n\t\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t`}\n\t\t\t\t\t\tonClick={() => setActiveImage('')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<GatsbyImage\n\t\t\t\t\t\t\timage={openImage.childImageSharp.gatsbyImageData}\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tmax-width: calc(100vw);\n\t\t\t\t\t\t\t\tmax-height: calc(100vh);\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\tobjectFit=\"contain\"\n\t\t\t\t\t\t\tobjectPosition=\"center center\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</figure>\n\t\t\t\t)}\n\t\t\t</Wysiwyg>\n\t\t</Layout>\n\t);\n};\n\nexport default PhotographyPage;\n"],"names":["wyswiyg","css","Typography","Unit","_ref","children","component","rest","jsx","name","styles","activeImage","setActiveImage","useState","allImages","useStaticQuery","allFile","edges","pages","setPages","loadMore","setLoadMore","shownImages","slice","loadRef","useRef","hasMore","length","handler","entries","intersectionRatie","useEffect","observer","IntersectionObserver","root","threshold","setTimeout","current","observe","disconnect","openImage","find","_ref4","node","_allImages$find","Layout","SEO","title","Wysiwyg","map","_ref5","key","onClick","GatsbyImage","image","childImageSharp","gatsbyImageData","alt","objectFit","objectPosition","ref"],"sourceRoot":""}