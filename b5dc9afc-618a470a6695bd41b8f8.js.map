{"version":3,"file":"b5dc9afc-618a470a6695bd41b8f8.js","mappings":"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","sources":["webpack://ljd.dk/./src/pages/photos.tsx"],"sourcesContent":["/** @jsx jsx */\nimport {\n\tFragment,\n\tFunctionComponent,\n\tuseEffect,\n\tuseRef,\n\tuseState,\n} from 'react';\nimport { GatsbyImage } from 'gatsby-plugin-image';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport { jsx, css } from '@emotion/react';\n\nimport Wysiwyg from '../components/wysiwyg';\nimport Layout from '../components/layout';\nimport SEO from '../components/seo';\nimport { Unit } from '../css/theme.css';\n\nconst PhotographyPage: FunctionComponent = () => {\n\tconst [activeImage, setActiveImage] = useState<string | null>(null);\n\tconst data: {\n\t\tallFile: { edges: { node: Queries.File }[] };\n\t} = useStaticQuery(graphql`\n\t\tquery { \n\t\t\tallFile(\n\t\t\t\tfilter: { absolutePath: { regex:\"/(images/photography)\\/.*\\\\.jpg$/\" } }\n\t\t\t\tsort: { name: DESC}\n\t\t\t) {\n\t\t\t\tedges {\n\t\t\t\t\tnode { \n\t\t\t\t\t\tname \n\t\t\t\t\t\trelativePath\n\t\t\t\t\t\tchildImageSharp {\n\t\t\t\t\t\t\tgatsbyImageData(layout: FULL_WIDTH, placeholder: BLURRED)\n\t\t\t\t\t\t\tfields {\n\t\t\t\t\t\t\t\texif {\n\t\t\t\t\t\t\t\t\traw {\n\t\t\t\t\t\t\t\t\t\timage {\n\t\t\t\t\t\t\t\t\t\t\tMake\n\t\t\t\t\t\t\t\t\t\t\tModel\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`);\n\n\tconst allImages = data.allFile.edges;\n\tconst IMAGES_PER_PAGE = 10;\n\tconst [pages, setPages] = useState(1);\n\tconst [loadMore, setLoadMore] = useState(false);\n\tconst shownImages = allImages.slice(0, IMAGES_PER_PAGE * pages);\n\n\tconst loadRef = useRef<HTMLDivElement>(null);\n\tconst hasMore = shownImages.length < allImages.length;\n\tconst handler = (entries: IntersectionObserverEntry[]) => {\n\t\tif (entries[0].intersectionRatio < 1) return;\n\t\tsetLoadMore(true);\n\t};\n\tuseEffect(() => {\n\t\tif (hasMore && loadMore) {\n\t\t\tsetPages(pages + 1);\n\t\t\tsetLoadMore(false);\n\t\t}\n\t}, [hasMore, loadMore]);\n\tuseEffect(() => {\n\t\tvar options = {\n\t\t\troot: null,\n\t\t\tthreshold: 1.0,\n\t\t};\n\t\tconst observer = new IntersectionObserver(handler, options);\n\n\t\tsetTimeout(() => {\n\t\t\tif (loadRef.current) {\n\t\t\t\tobserver.observe(loadRef.current);\n\t\t\t}\n\t\t}, 1000);\n\n\t\treturn () => {\n\t\t\tobserver.disconnect();\n\t\t};\n\t}, [loadRef.current]);\n\n\tconst disableScroll = () =>\n\t\t(document.documentElement.style.overflow = 'hidden');\n\tconst enableScroll = () => (document.documentElement.style.overflow = '');\n\tuseEffect(() => {\n\t\tif (activeImage) {\n\t\t\tdisableScroll();\n\t\t} else {\n\t\t\tenableScroll();\n\t\t}\n\t\treturn () => {\n\t\t\tenableScroll();\n\t\t};\n\t}, [activeImage]);\n\n\tconst openImage = allImages.find(\n\t\t({ node }) => node.name === activeImage,\n\t)?.node;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Layout>\n\t\t\t\t<SEO title=\"Photos\" />\n\t\t\t\t<Wysiwyg component=\"article\">\n\t\t\t\t\t<h1>What I see</h1>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tMy family takes photos. Some of the best times with my family while\n\t\t\t\t\t\tgrowing up was spent drinking tea and watching photos from vacations\n\t\t\t\t\t\ton the family projector. So now I take photos.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t{shownImages.map(({ node }) =>\n\t\t\t\t\t\tnode?.childImageSharp?.gatsbyImageData ? (\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tkey={node.name}\n\t\t\t\t\t\t\t\tonClick={() => setActiveImage(node.name)}\n\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<figure\n\t\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t\tmargin-bottom: ${Unit.HALF}px;\n\n\t\t\t\t\t\t\t\t\t\t@media screen and (max-height: 500px),\n\t\t\t\t\t\t\t\t\t\t\tscreen and (max-width: 500px) {\n\t\t\t\t\t\t\t\t\t\t\tmargin-bottom: ${Unit.QUART}px;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<GatsbyImage\n\t\t\t\t\t\t\t\t\t\timage={node.childImageSharp.gatsbyImageData}\n\t\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\t\t\t\tmax-width: calc(100vw - ${Unit.FULL}px);\n\t\t\t\t\t\t\t\t\t\t\tmax-height: calc(100vh - ${Unit.FULL}px);\n\n\t\t\t\t\t\t\t\t\t\t\t@media screen and (max-height: 500px),\n\t\t\t\t\t\t\t\t\t\t\t\tscreen and (max-width: 500px) {\n\t\t\t\t\t\t\t\t\t\t\t\tmax-width: calc(100vw - ${Unit.HALF}px);\n\t\t\t\t\t\t\t\t\t\t\t\tmax-height: calc(100vh - ${Unit.HALF}px);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\tobjectFit=\"contain\"\n\t\t\t\t\t\t\t\t\t\tobjectPosition=\"left center\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t) : null,\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div ref={loadRef}>{hasMore && 'Loading...'}</div>\n\t\t\t\t</Wysiwyg>\n\t\t\t</Layout>\n\n\t\t\t{openImage?.childImageSharp?.gatsbyImageData ? (\n\t\t\t\t<figure\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\toverflow: hidden;\n\n\t\t\t\t\t\tposition: fixed;\n\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\tz-index: 2;\n\n\t\t\t\t\t\tbackground-color: #000;\n\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\tcursor: pointer;\n\n\t\t\t\t\t\toverscroll-behavior: none;\n\t\t\t\t\t`}\n\t\t\t\t\tonClick={() => setActiveImage(null)}\n\t\t\t\t>\n\t\t\t\t\t<GatsbyImage\n\t\t\t\t\t\timage={openImage.childImageSharp.gatsbyImageData}\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tmax-width: calc(100vw);\n\t\t\t\t\t\t\tmax-height: calc(100vh);\n\n\t\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t\ttop: 50%;\n\t\t\t\t\t\t\tleft: 50%;\n\t\t\t\t\t\t\ttransform: translate3d(-50%, -50%, 0);\n\t\t\t\t\t\t`}\n\t\t\t\t\t\tobjectFit=\"contain\"\n\t\t\t\t\t\tobjectPosition=\"center center\"\n\t\t\t\t\t/>\n\t\t\t\t</figure>\n\t\t\t) : null}\n\t\t</Fragment>\n\t);\n};\n\nexport default PhotographyPage;\n"],"names":["name","styles","PhotographyPage","activeImage","setActiveImage","useState","allImages","useStaticQuery","allFile","edges","pages","setPages","loadMore","setLoadMore","shownImages","slice","loadRef","useRef","hasMore","length","handler","entries","intersectionRatio","useEffect","observer","IntersectionObserver","root","threshold","setTimeout","current","observe","disconnect","enableScroll","document","documentElement","style","overflow","openImage","find","_ref4","node","_allImages$find","jsx","Fragment","Layout","SEO","title","Wysiwyg","component","map","_ref5","childImageSharp","_node$childImageSharp","gatsbyImageData","key","onClick","css","Unit","HALF","QUART","GatsbyImage","image","alt","FULL","objectFit","objectPosition","ref","_openImage$childImage"],"sourceRoot":""}